<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>야구 타격 분석 사이트</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        form { margin-bottom: 20px; }
        #result { display: none; border: 1px solid #ccc; padding: 10px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>야구 타격 분석</h1>
    <p>키(cm)와 몸무게(kg)를 입력하세요. 좌타/우타를 선택하세요. 입력 값이 클수록 파워 중심으로 팁이 조정됩니다.</p>
    
    <form id="inputForm">
        <label for="height">키 (140cm 이상): </label>
        <input type="number" id="height" min="140" required><br><br>
        
        <label for="weight">몸무게 (30kg 이상): </label>
        <input type="number" id="weight" min="30" required><br><br>
        
        <label>타격 스타일:</label><br>
        <input type="radio" id="left" name="handed" value="left" required>
        <label for="left">좌타</label><br>
        <input type="radio" id="right" name="handed" value="right" required>
        <label for="right">우타</label><br><br>
        
        <button type="button" onclick="analyzeBatting()">분석하기</button>
    </form>
    
    <div id="result">
        <h2>분석 결과</h2>
        <p id="bmiInfo"></p>
        <table id="tipsTable">
            <tr>
                <th>항목</th>
                <th>설명</th>
            </tr>
        </table>
    </div>
    
    <script>
        function analyzeBatting() {
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const handed = document.querySelector('input[name="handed"]:checked').value;
            
            if (isNaN(height) || isNaN(weight) || height < 140 || weight < 30) {
                alert('올바른 값을 입력하세요.');
                return;
            }
            
            // BMI 계산: weight / (height/100)^2
            const bmi = weight / Math.pow(height / 100, 2);
            let bmiDesc;
            if (bmi < 18.5) {
                bmiDesc = '가벼운 체형 (컨택 중심)';
            } else if (bmi < 25) {
                bmiDesc = '균형 체형 (다재다능)';
            } else {
                bmiDesc = '무거운 체형 (파워 중심)';
            }
            
            // 동적 팁 생성: 키/몸무게 증가에 따라 값 조정 (예: 스트라이드 = 키의 8-12%)
            const strideLength = Math.round(height * 0.1); // cm, 키 클수록 길어짐
            const batSpeed = 70 + Math.round((weight - 30) / 5); // mph, 몸무게 클수록 높아짐
            const launchAngle = 10 + Math.round((bmi - 15) / 2); // 도, BMI 클수록 높아짐
            const strideDir = handed === 'left' ? '1루 쪽' : '3루 쪽';
            
            let tips = [
                {item: '스탠스', desc: `${bmi < 18.5 ? '스퀘어 (좁게)' : bmi < 25 ? '오픈 (중간)' : '클로즈드 (넓게)'}로 안정성/파워 균형. 발 간격: 어깨 너비 ${bmi < 18.5 ? '좁게' : '정상'}.`},
                {item: '로드/스트라이드', desc: `스트라이드 길이 약 ${strideLength}cm, 힙 로테이션 강조. 인사이드 피치에 ${strideDir} 스트라이드.`},
                {item: '스윙', desc: `배트 스피드 ${batSpeed}mph 목표, 론치 앵글 ${launchAngle}도. ${bmi < 18.5 ? '퀵 핸즈 컨택 중심' : bmi < 25 ? '균형 스윙' : '긴 패스 파워 중심'}.`},
                {item: '팁', desc: `${bmi < 18.5 ? '타이밍/밸런스 드릴' : bmi < 25 ? '컨트롤 폴 드릴' : '스트라이드 세퍼레이션 드릴'}로 최적화. 개인차 있으니 코치 상담 추천.`}
            ];
            
            // 결과 표시
            document.getElementById('bmiInfo').innerText = `BMI: ${bmi.toFixed(2)} (${bmiDesc}, ${handed === 'left' ? '좌타' : '우타'})`;
            const table = document.getElementById('tipsTable');
            // 테이블 행 초기화 (헤더 제외)
            while (table.rows.length > 1) {
                table.deleteRow(1);
            }
            tips.forEach(tip => {
                const row = table.insertRow();
                row.insertCell(0).innerText = tip.item;
                row.insertCell(1).innerText = tip.desc;
            });
            document.getElementById('result').style.display = 'block';
        }
    </script>
</body>
</html>
